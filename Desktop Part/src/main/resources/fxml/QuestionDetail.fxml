<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<ScrollPane fitToWidth="true" stylesheets="@../css/application.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.kna.controller.QuestionDetailController" style="-fx-background-color: #F0F2F5; -fx-background: #F0F2F5;">
    <VBox spacing="0" style="-fx-background-color: #F0F2F5;">
        
        <!-- Page Header -->
        <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: white; -fx-padding: 20px 25px; -fx-border-color: #E8E8E8; -fx-border-width: 0 0 1px 0;">
            <Button text="â† Back" onAction="#goBack" styleClass="secondary-button"/>
            <Label text="Question Details" styleClass="page-title"/>
            <Region HBox.hgrow="ALWAYS"/>
        </HBox>
        
        <VBox spacing="20" style="-fx-padding: 25px;">
            
            <!-- Question Card -->
            <VBox spacing="15" styleClass="card">
                <!-- Question Header -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label fx:id="categoryBadge" text="Category" styleClass="badge-category"/>
                    <Label fx:id="urgentBadge" text="ðŸ”¥ URGENT" styleClass="badge-urgent" visible="false" managed="false"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <HBox alignment="CENTER" spacing="5" styleClass="coin-badge">
                        <Label text="ðŸ’°"/>
                        <Label fx:id="rewardLabel" text="0" styleClass="badge-text"/>
                        <Label text="coins" style="-fx-font-size: 11px;"/>
                    </HBox>
                </HBox>
                
                <!-- Question Title -->
                <Label fx:id="questionTitleLabel" text="Question Title" styleClass="question-title" wrapText="true" style="-fx-font-size: 20px;"/>
                
                <!-- Question Description -->
                <Label fx:id="questionDescriptionLabel" text="Description" wrapText="true" styleClass="question-description"/>
                
                <!-- Question Meta -->
                <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-padding: 10px 0 0 0;">
                    <HBox spacing="5">
                        <Label text="ðŸ‘¤"/>
                        <Label fx:id="askerLabel" text="Anonymous" styleClass="question-meta"/>
                    </HBox>
                    <HBox spacing="5">
                        <Label text="ðŸ“…"/>
                        <Label fx:id="dateLabel" text="Date" styleClass="question-meta"/>
                    </HBox>
                    <HBox spacing="5">
                        <Label text="ðŸ’¬"/>
                        <Label fx:id="answerCountLabel" text="0 answers" styleClass="question-meta"/>
                    </HBox>
                </HBox>
            </VBox>
            
            <!-- Answer Form Card (shown if user can answer) -->
            <VBox fx:id="answerFormContainer" spacing="15" styleClass="card">
                <Label text="âœï¸ Your Answer" styleClass="section-subtitle"/>
                <TextArea fx:id="answerTextArea" promptText="Write your answer here... Be detailed and helpful to earn coins and reputation!" prefHeight="150" wrapText="true" styleClass="input-field"/>
                <HBox alignment="CENTER_RIGHT" spacing="10">
                    <Label fx:id="answerErrorLabel" styleClass="error-text"/>
                    <Button text="Submit Answer" onAction="#submitAnswer" styleClass="success-button" style="-fx-padding: 12px 30px;"/>
                </HBox>
            </VBox>
            
            <!-- Answers Section Header -->
            <HBox alignment="CENTER_LEFT" spacing="15">
                <Label text="ðŸ’¬ Answers" styleClass="section-title"/>
                <Label fx:id="answersCountBadge" text="0" styleClass="badge"/>
            </HBox>
            
            <!-- Answers List -->
            <VBox fx:id="answersContainer" spacing="15"/>
            
            <!-- Empty State -->
            <VBox fx:id="noAnswersLabel" alignment="CENTER" spacing="10" styleClass="card" style="-fx-padding: 40px;" visible="false" managed="false">
                <Label text="ðŸ’­" style="-fx-font-size: 48px;"/>
                <Label text="No answers yet" styleClass="empty-state-text"/>
                <Label text="Be the first to answer this question!" styleClass="empty-state-subtext"/>
            </VBox>
            
        </VBox>
    </VBox>
</ScrollPane>
