<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<ScrollPane fitToWidth="true" style="-fx-background-color: #F0F2F5; -fx-background: #F0F2F5;" stylesheets="@../css/application.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.kna.controller.CoinPurchaseController">
    <VBox spacing="0" style="-fx-background-color: #F0F2F5;">
        
        <!-- Page Header -->
        <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: white; -fx-padding: 20px 25px; -fx-border-color: #E8E8E8; -fx-border-width: 0 0 1px 0;">
            <Label styleClass="page-title" text="ðŸ›’ Buy Coins" />
            <Region HBox.hgrow="ALWAYS" />
            <!-- Current Balance -->
            <HBox alignment="CENTER" spacing="8" style="-fx-padding: 10px 20px;" styleClass="coin-display">
                <Label text="ðŸ’°" />
                <Label text="Current Balance:" />
                <Label fx:id="currentBalanceLabel" style="-fx-font-size: 16px;" styleClass="badge-text" text="0" />
            </HBox>
        </HBox>
        
        <VBox spacing="25" style="-fx-padding: 25px;">
            
            <!-- Info Card -->
            <VBox spacing="10" style="-fx-background-color: #E3F2FD;" styleClass="card">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label style="-fx-font-size: 20px;" text="ðŸ›ˆ" />
                    <Label styleClass="section-subtitle" text="About Coins" />
                </HBox>
                <Label styleClass="label-secondary" text="Coins are used to reward users who answer your questions. The more coins you offer, the more likely you are to receive quality answers quickly." wrapText="true" />
            </VBox>
            
            <!-- Packages Section -->
            <VBox spacing="15">
                <Label styleClass="section-title" text="ðŸ“¦ Choose a Package" />
                
                <HBox fx:id="packagesContainer" alignment="CENTER" spacing="20">
                    <!-- Starter Package -->
                    <VBox alignment="CENTER" spacing="15" styleClass="package-card">
                        <Label style="-fx-font-size: 32px;" text="â­" />
                        <Label styleClass="package-name" text="Starter" />
                        <Label styleClass="package-coins" text="50 Coins" />
                        <Label styleClass="package-price" text="à§³ 59.0" />
                        <Button onAction="#selectStarterPackage" styleClass="select-button" text="Select" />
                    </VBox>
                    
                    <!-- Popular Package -->
                    <VBox alignment="CENTER" spacing="15" style="-fx-border-color: #2196F3; -fx-border-width: 2px;" styleClass="package-card">
                        <Label style="-fx-font-size: 11px; -fx-text-fill: #2196F3; -fx-font-weight: bold;" text="ðŸ”¥ POPULAR" />
                        <Label style="-fx-font-size: 32px;" text="ðŸŒŸ" />
                        <Label styleClass="package-name" text="Value Pack" />
                        <Label styleClass="package-coins" text="200 Coins" />
                        <Label styleClass="package-price" text="à§³ 199.0" />
                        <Button onAction="#selectValuePackage" styleClass="select-button" text="Select" />
                    </VBox>
                    
                    <!-- Premium Package -->
                    <VBox alignment="CENTER" spacing="15" styleClass="package-card">
                        <Label style="-fx-font-size: 32px;" text="ðŸ’Ž" />
                        <Label styleClass="package-name" text="Premium" />
                        <Label styleClass="package-coins" text="500 Coins" />
                        <Label styleClass="package-price" text="à§³ 499.0" />
                        <Button onAction="#selectPremiumPackage" styleClass="select-button" text="Select" />
                    </VBox>
                    
                    <!-- Ultimate Package -->
                    <VBox alignment="CENTER" spacing="15" styleClass="package-card">
                        <Label style="-fx-font-size: 32px;" text="â™›" />
                        <Label styleClass="package-name" text="Ultimate" />
                        <Label styleClass="package-coins" text="1000 Coins" />
                        <Label styleClass="package-price" text="à§³ 899.0" />
                        <Button onAction="#selectUltimatePackage" styleClass="select-button" text="Select" />
                    </VBox>
                </HBox>
            </VBox>
            
            <!-- Purchase Summary Card -->
            <VBox fx:id="purchaseSummary" managed="false" spacing="15" styleClass="card" visible="false">
                <Label styleClass="section-subtitle" text="ðŸ“œ Purchase Summary" />
                <HBox alignment="CENTER_LEFT" spacing="30">
                    <VBox spacing="4">
                        <Label styleClass="stat-label" text="Selected Package" />
                        <Label fx:id="selectedPackageLabel" style="-fx-font-weight: bold; -fx-font-size: 16px;" text="-" />
                    </VBox>
                    <VBox spacing="4">
                        <Label styleClass="stat-label" text="Coins" />
                        <Label fx:id="selectedCoinsLabel" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #F57C00;" text="0" />
                    </VBox>
                    <VBox spacing="4">
                        <Label styleClass="stat-label" text="Price" />
                        <Label fx:id="selectedPriceLabel" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #2196F3;" text="à§³ 0.00" />
                    </VBox>
                    <Region HBox.hgrow="ALWAYS" />
                    <Button fx:id="confirmPurchaseButton" onAction="#confirmPurchase" style="-fx-padding: 12px 30px;" styleClass="success-button" text="Confirm Purchase" />
                </HBox>
            </VBox>
            
            <!-- Status Message -->
            <Label fx:id="statusLabel" styleClass="success-text" wrapText="true" />
            
        </VBox>
    </VBox>
</ScrollPane>
