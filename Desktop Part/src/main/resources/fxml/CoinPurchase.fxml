<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<ScrollPane fitToWidth="true" stylesheets="@../css/application.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.kna.controller.CoinPurchaseController" style="-fx-background-color: #F0F2F5; -fx-background: #F0F2F5;">
    <VBox spacing="0" style="-fx-background-color: #F0F2F5;">
        
        <!-- Page Header -->
        <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: white; -fx-padding: 20px 25px; -fx-border-color: #E8E8E8; -fx-border-width: 0 0 1px 0;">
            <Label text="ðŸ›’ Buy Coins" styleClass="page-title"/>
            <Region HBox.hgrow="ALWAYS"/>
            <!-- Current Balance -->
            <HBox alignment="CENTER" spacing="8" styleClass="coin-display" style="-fx-padding: 10px 20px;">
                <Label text="ðŸ’°"/>
                <Label text="Current Balance:"/>
                <Label fx:id="currentBalanceLabel" text="0" styleClass="badge-text" style="-fx-font-size: 16px;"/>
            </HBox>
        </HBox>
        
        <VBox spacing="25" style="-fx-padding: 25px;">
            
            <!-- Info Card -->
            <VBox spacing="10" styleClass="card" style="-fx-background-color: #E3F2FD;">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label text="â„¹ï¸" style="-fx-font-size: 20px;"/>
                    <Label text="About Coins" styleClass="section-subtitle"/>
                </HBox>
                <Label text="Coins are used to reward users who answer your questions. The more coins you offer, the more likely you are to receive quality answers quickly." wrapText="true" styleClass="label-secondary"/>
            </VBox>
            
            <!-- Packages Section -->
            <VBox spacing="15">
                <Label text="ðŸ“¦ Choose a Package" styleClass="section-title"/>
                
                <HBox fx:id="packagesContainer" spacing="20" alignment="CENTER">
                    <!-- Starter Package -->
                    <VBox alignment="CENTER" spacing="15" styleClass="package-card">
                        <Label text="ðŸŒŸ" style="-fx-font-size: 32px;"/>
                        <Label text="Starter" styleClass="package-name"/>
                        <Label text="50 Coins" styleClass="package-coins"/>
                        <Label text="$4.99" styleClass="package-price"/>
                        <Button text="Select" styleClass="select-button" onAction="#selectStarterPackage"/>
                    </VBox>
                    
                    <!-- Popular Package -->
                    <VBox alignment="CENTER" spacing="15" styleClass="package-card" style="-fx-border-color: #2196F3; -fx-border-width: 2px;">
                        <Label text="ðŸ”¥ POPULAR" style="-fx-font-size: 11px; -fx-text-fill: #2196F3; -fx-font-weight: bold;"/>
                        <Label text="â­" style="-fx-font-size: 32px;"/>
                        <Label text="Value Pack" styleClass="package-name"/>
                        <Label text="150 Coins" styleClass="package-coins"/>
                        <Label text="$9.99" styleClass="package-price"/>
                        <Button text="Select" styleClass="select-button" onAction="#selectValuePackage"/>
                    </VBox>
                    
                    <!-- Premium Package -->
                    <VBox alignment="CENTER" spacing="15" styleClass="package-card">
                        <Label text="ðŸ’Ž" style="-fx-font-size: 32px;"/>
                        <Label text="Premium" styleClass="package-name"/>
                        <Label text="400 Coins" styleClass="package-coins"/>
                        <Label text="$19.99" styleClass="package-price"/>
                        <Button text="Select" styleClass="select-button" onAction="#selectPremiumPackage"/>
                    </VBox>
                    
                    <!-- Ultimate Package -->
                    <VBox alignment="CENTER" spacing="15" styleClass="package-card">
                        <Label text="ðŸ‘‘" style="-fx-font-size: 32px;"/>
                        <Label text="Ultimate" styleClass="package-name"/>
                        <Label text="1000 Coins" styleClass="package-coins"/>
                        <Label text="$39.99" styleClass="package-price"/>
                        <Button text="Select" styleClass="select-button" onAction="#selectUltimatePackage"/>
                    </VBox>
                </HBox>
            </VBox>
            
            <!-- Purchase Summary Card -->
            <VBox fx:id="purchaseSummary" spacing="15" styleClass="card" visible="false" managed="false">
                <Label text="ðŸ§¾ Purchase Summary" styleClass="section-subtitle"/>
                <HBox alignment="CENTER_LEFT" spacing="30">
                    <VBox spacing="4">
                        <Label text="Selected Package" styleClass="stat-label"/>
                        <Label fx:id="selectedPackageLabel" text="-" style="-fx-font-weight: bold; -fx-font-size: 16px;"/>
                    </VBox>
                    <VBox spacing="4">
                        <Label text="Coins" styleClass="stat-label"/>
                        <Label fx:id="selectedCoinsLabel" text="0" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #F57C00;"/>
                    </VBox>
                    <VBox spacing="4">
                        <Label text="Price" styleClass="stat-label"/>
                        <Label fx:id="selectedPriceLabel" text="$0.00" style="-fx-font-weight: bold; -fx-font-size: 16px; -fx-text-fill: #2196F3;"/>
                    </VBox>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button fx:id="confirmPurchaseButton" text="Confirm Purchase" styleClass="success-button" style="-fx-padding: 12px 30px;" onAction="#confirmPurchase"/>
                </HBox>
            </VBox>
            
            <!-- Status Message -->
            <Label fx:id="statusLabel" styleClass="success-text" wrapText="true"/>
            
        </VBox>
    </VBox>
</ScrollPane>
