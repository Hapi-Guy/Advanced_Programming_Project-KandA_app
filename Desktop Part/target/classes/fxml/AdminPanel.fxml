<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox spacing="0" stylesheets="@../css/application.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.kna.controller.AdminPanelController" style="-fx-background-color: #F0F2F5;">
    
    <!-- Page Header -->
    <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: white; -fx-padding: 20px 25px; -fx-border-color: #E8E8E8; -fx-border-width: 0 0 1px 0;">
        <Button text="â† Back" onAction="#goBack" styleClass="secondary-button"/>
        <Label text="âš™ï¸ Admin Panel" styleClass="page-title"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Label styleClass="badge" style="-fx-background-color: #f44336;" text="ADMIN"/>
    </HBox>
    
    <!-- Admin Content -->
    <TabPane VBox.vgrow="ALWAYS" style="-fx-background-color: #F0F2F5;">
        
        <!-- Users Tab -->
        <Tab text="ðŸ‘¥ Users" closable="false">
            <VBox spacing="20" style="-fx-padding: 20px;">
                <!-- Stats Cards -->
                <HBox spacing="20">
                    <VBox alignment="CENTER" spacing="8" styleClass="stat-card" HBox.hgrow="ALWAYS">
                        <Label text="ðŸ‘¥" styleClass="stat-card-icon"/>
                        <Label text="Total Users" styleClass="stat-card-label"/>
                        <Label fx:id="totalUsersLabel" text="0" styleClass="stat-card-value"/>
                    </VBox>
                    <VBox alignment="CENTER" spacing="8" styleClass="stat-card" HBox.hgrow="ALWAYS">
                        <Label text="ðŸ›¡ï¸" styleClass="stat-card-icon"/>
                        <Label text="Admins" styleClass="stat-card-label"/>
                        <Label fx:id="totalAdminsLabel" text="0" styleClass="stat-card-value"/>
                    </VBox>
                    <VBox alignment="CENTER" spacing="8" styleClass="stat-card" HBox.hgrow="ALWAYS">
                        <Label text="âœ…" styleClass="stat-card-icon"/>
                        <Label text="Active" styleClass="stat-card-label"/>
                        <Label fx:id="activeUsersLabel" text="0" styleClass="stat-card-value"/>
                    </VBox>
                </HBox>
                
                <!-- Users Table -->
                <VBox spacing="10" styleClass="card" VBox.vgrow="ALWAYS">
                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Label text="User Management" styleClass="section-subtitle"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ”„ Refresh" onAction="#refreshUsers" styleClass="secondary-button"/>
                    </HBox>
                    <TableView fx:id="usersTable" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="userIdCol" text="ID" prefWidth="60"/>
                            <TableColumn fx:id="userUsernameCol" text="Username" prefWidth="150"/>
                            <TableColumn fx:id="userEmailCol" text="Email" prefWidth="200"/>
                            <TableColumn fx:id="userCoinsCol" text="Coins" prefWidth="80"/>
                            <TableColumn fx:id="userReputationCol" text="Reputation" prefWidth="100"/>
                            <TableColumn fx:id="userRoleCol" text="Role" prefWidth="80"/>
                            <TableColumn fx:id="userActionsCol" text="Actions" prefWidth="150"/>
                        </columns>
                    </TableView>
                </VBox>
            </VBox>
        </Tab>
        
        <!-- Questions Tab -->
        <Tab text="ðŸ“ Questions" closable="false">
            <VBox spacing="20" style="-fx-padding: 20px;">
                <!-- Stats Cards -->
                <HBox spacing="20">
                    <VBox alignment="CENTER" spacing="8" styleClass="stat-card" HBox.hgrow="ALWAYS">
                        <Label text="ðŸ“" styleClass="stat-card-icon"/>
                        <Label text="Total Questions" styleClass="stat-card-label"/>
                        <Label fx:id="totalQuestionsLabel" text="0" styleClass="stat-card-value"/>
                    </VBox>
                    <VBox alignment="CENTER" spacing="8" styleClass="stat-card" HBox.hgrow="ALWAYS">
                        <Label text="âœ…" styleClass="stat-card-icon"/>
                        <Label text="Answered" styleClass="stat-card-label"/>
                        <Label fx:id="answeredQuestionsLabel" text="0" styleClass="stat-card-value" style="-fx-text-fill: #4CAF50;"/>
                    </VBox>
                    <VBox alignment="CENTER" spacing="8" styleClass="stat-card" HBox.hgrow="ALWAYS">
                        <Label text="ðŸ”¥" styleClass="stat-card-icon"/>
                        <Label text="Urgent" styleClass="stat-card-label"/>
                        <Label fx:id="urgentQuestionsLabel" text="0" styleClass="stat-card-value" style="-fx-text-fill: #FF9800;"/>
                    </VBox>
                </HBox>
                
                <!-- Questions Table -->
                <VBox spacing="10" styleClass="card" VBox.vgrow="ALWAYS">
                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Label text="Question Management" styleClass="section-subtitle"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ”„ Refresh" onAction="#refreshQuestions" styleClass="secondary-button"/>
                    </HBox>
                    <TableView fx:id="questionsTable" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="questionIdCol" text="ID" prefWidth="60"/>
                            <TableColumn fx:id="questionTitleCol" text="Title" prefWidth="250"/>
                            <TableColumn fx:id="questionCategoryCol" text="Category" prefWidth="120"/>
                            <TableColumn fx:id="questionRewardCol" text="Reward" prefWidth="80"/>
                            <TableColumn fx:id="questionUrgentCol" text="Urgent" prefWidth="70"/>
                            <TableColumn fx:id="questionAskerCol" text="Asked By" prefWidth="120"/>
                            <TableColumn fx:id="questionActionsCol" text="Actions" prefWidth="120"/>
                        </columns>
                    </TableView>
                </VBox>
            </VBox>
        </Tab>
        
        <!-- Reports Tab -->
        <Tab text="ðŸš© Reports" closable="false">
            <VBox spacing="20" style="-fx-padding: 20px;">
                <!-- Stats Cards -->
                <HBox spacing="20">
                    <VBox alignment="CENTER" spacing="8" styleClass="stat-card" HBox.hgrow="ALWAYS">
                        <Label text="ðŸš©" styleClass="stat-card-icon"/>
                        <Label text="Total Reports" styleClass="stat-card-label"/>
                        <Label fx:id="totalReportsLabel" text="0" styleClass="stat-card-value"/>
                    </VBox>
                    <VBox alignment="CENTER" spacing="8" styleClass="stat-card" HBox.hgrow="ALWAYS">
                        <Label text="â³" styleClass="stat-card-icon"/>
                        <Label text="Pending" styleClass="stat-card-label"/>
                        <Label fx:id="pendingReportsLabel" text="0" styleClass="stat-card-value" style="-fx-text-fill: #FF9800;"/>
                    </VBox>
                    <VBox alignment="CENTER" spacing="8" styleClass="stat-card" HBox.hgrow="ALWAYS">
                        <Label text="âœ…" styleClass="stat-card-icon"/>
                        <Label text="Resolved" styleClass="stat-card-label"/>
                        <Label fx:id="resolvedReportsLabel" text="0" styleClass="stat-card-value" style="-fx-text-fill: #4CAF50;"/>
                    </VBox>
                </HBox>
                
                <!-- Reports Table -->
                <VBox spacing="10" styleClass="card" VBox.vgrow="ALWAYS">
                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Label text="Report Management" styleClass="section-subtitle"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <Button text="ðŸ”„ Refresh" onAction="#refreshReports" styleClass="secondary-button"/>
                    </HBox>
                    <TableView fx:id="reportsTable" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="reportIdCol" text="ID" prefWidth="60"/>
                            <TableColumn fx:id="reportTypeCol" text="Type" prefWidth="100"/>
                            <TableColumn fx:id="reportReasonCol" text="Reason" prefWidth="200"/>
                            <TableColumn fx:id="reportStatusCol" text="Status" prefWidth="100"/>
                            <TableColumn fx:id="reportDateCol" text="Date" prefWidth="120"/>
                            <TableColumn fx:id="reportActionsCol" text="Actions" prefWidth="150"/>
                        </columns>
                    </TableView>
                </VBox>
            </VBox>
        </Tab>
        
    </TabPane>
</VBox>
