<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Slider?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<ScrollPane fitToWidth="true" stylesheets="@../css/application.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.kna.controller.AskQuestionController" style="-fx-background-color: #F0F2F5; -fx-background: #F0F2F5;">
    <VBox spacing="0" style="-fx-background-color: #F0F2F5;">
        
        <!-- Page Header -->
        <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: white; -fx-padding: 20px 25px; -fx-border-color: #E8E8E8; -fx-border-width: 0 0 1px 0;">
            <Label text="â“ Ask a Question" styleClass="page-title"/>
            <Region HBox.hgrow="ALWAYS"/>
            <!-- Coin Balance Display -->
            <HBox alignment="CENTER" spacing="6" styleClass="coin-display">
                <Label text="ðŸ’°"/>
                <Label text="Your Balance:"/>
                <Label fx:id="coinBalanceLabel" text="0" styleClass="badge-text"/>
            </HBox>
        </HBox>
        
        <!-- Form Content -->
        <VBox spacing="20" style="-fx-padding: 25px;">
            
            <!-- Main Form Card -->
            <VBox spacing="20" styleClass="card">
                <!-- Title Field -->
                <VBox spacing="8">
                    <HBox spacing="5">
                        <Label text="Question Title" styleClass="form-label-bold"/>
                        <Label text="*" styleClass="required-asterisk"/>
                    </HBox>
                    <TextField fx:id="titleField" promptText="Enter a clear, concise title for your question" styleClass="input-field"/>
                    <Label text="A good title helps others find and answer your question" styleClass="help-text"/>
                </VBox>
                
                <!-- Description Field -->
                <VBox spacing="8">
                    <HBox spacing="5">
                        <Label text="Description" styleClass="form-label-bold"/>
                        <Label text="*" styleClass="required-asterisk"/>
                    </HBox>
                    <TextArea fx:id="descriptionArea" promptText="Describe your question in detail. Include any relevant context, what you've tried, and what you're hoping to learn." prefHeight="180" wrapText="true" styleClass="input-field"/>
                </VBox>
                
                <!-- Category Selection -->
                <VBox spacing="8">
                    <HBox spacing="5">
                        <Label text="Category" styleClass="form-label-bold"/>
                        <Label text="*" styleClass="required-asterisk"/>
                    </HBox>
                    <ComboBox fx:id="categoryComboBox" promptText="Select a category" prefWidth="300" styleClass="combo-box"/>
                </VBox>
            </VBox>
            
            <!-- Reward Settings Card -->
            <VBox spacing="20" styleClass="card">
                <Label text="ðŸ’° Reward Settings" styleClass="section-subtitle"/>
                
                <!-- Coin Reward -->
                <VBox spacing="10">
                    <HBox alignment="CENTER_LEFT" spacing="15">
                        <Label text="Coin Reward:" styleClass="form-label-bold"/>
                        <Label fx:id="rewardLabel" text="5" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #F57C00;"/>
                        <Label text="coins"/>
                    </HBox>
                    <Slider fx:id="rewardSlider" min="1" max="100" value="5" showTickLabels="true" showTickMarks="true" majorTickUnit="20" minorTickCount="4" blockIncrement="5"/>
                    <Label text="Higher rewards may attract better answers faster" styleClass="help-text"/>
                </VBox>
                
                <!-- Urgent Option -->
                <VBox spacing="8" styleClass="warning-box" style="-fx-padding: 15px;">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <CheckBox fx:id="urgentCheckbox" styleClass="urgent-checkbox"/>
                        <VBox spacing="2">
                            <Label text="ðŸ”¥ Mark as Urgent (+5 coins)" styleClass="warning-text"/>
                            <Label text="Urgent questions get highlighted and shown first" styleClass="warning-subtext"/>
                        </VBox>
                    </HBox>
                </VBox>
            </VBox>
            
            <!-- Cost Summary Card -->
            <VBox spacing="15" styleClass="card" style="-fx-background-color: #F8FBFF;">
                <Label text="ðŸ“Š Cost Summary" styleClass="section-subtitle"/>
                <HBox alignment="CENTER_LEFT" spacing="20">
                    <VBox spacing="4">
                        <Label text="Base Reward" styleClass="cost-label"/>
                        <Label fx:id="baseRewardSummary" text="5 coins" style="-fx-font-weight: bold;"/>
                    </VBox>
                    <Label text="+" style="-fx-font-size: 18px; -fx-text-fill: #6c757d;"/>
                    <VBox spacing="4">
                        <Label text="Urgent Fee" styleClass="cost-label"/>
                        <Label fx:id="urgentFeeSummary" text="0 coins" style="-fx-font-weight: bold;"/>
                    </VBox>
                    <Label text="=" style="-fx-font-size: 18px; -fx-text-fill: #6c757d;"/>
                    <VBox spacing="4">
                        <Label text="Total Cost" styleClass="cost-label"/>
                        <Label fx:id="totalCostLabel" text="5 coins" styleClass="cost-value"/>
                    </VBox>
                </HBox>
            </VBox>
            
            <!-- Error Message -->
            <Label fx:id="errorLabel" styleClass="error-text" wrapText="true"/>
            
            <!-- Submit Button -->
            <HBox alignment="CENTER_RIGHT">
                <Button text="Post Question" onAction="#handleSubmit" styleClass="primary-button" style="-fx-padding: 14px 40px; -fx-font-size: 15px;"/>
            </HBox>
        </VBox>
    </VBox>
</ScrollPane>
