<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<ScrollPane fitToWidth="true" style="-fx-background-color: #F0F2F5; -fx-background: #F0F2F5;" stylesheets="@../css/application.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.kna.controller.QuestionDetailController">
    <VBox spacing="0" style="-fx-background-color: #F0F2F5;">
        
        <!-- Page Header -->
        <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: white; -fx-padding: 20px 25px; -fx-border-color: #E8E8E8; -fx-border-width: 0 0 1px 0;">
            <Button onAction="#goBack" styleClass="secondary-button" text="â† Back" />
            <Label styleClass="page-title" text="Question Details" />
            <Region HBox.hgrow="ALWAYS" />
            <Button fx:id="deleteQuestionBtn" managed="false" onAction="#handleDeleteQuestion" styleClass="danger-button" text="ðŸ—‘ Delete Question" visible="false" />
        </HBox>
        
        <VBox spacing="20" style="-fx-padding: 25px;">
            
            <!-- Question Card -->
            <VBox spacing="15" styleClass="card">
                <!-- Question Header -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label fx:id="categoryBadge" styleClass="badge-category" text="Category" />
                    <Label fx:id="urgentBadge" managed="false" styleClass="badge-urgent" text="ðŸ”¥ URGENT" visible="false" />
                    <Region HBox.hgrow="ALWAYS" />
                    <HBox alignment="CENTER" spacing="5" styleClass="coin-badge">
                        <Label text="ðŸ’°" />
                        <Label fx:id="rewardLabel" styleClass="badge-text" text="0" />
                        <Label style="-fx-font-size: 11px;" text="coins" />
                    </HBox>
                </HBox>
                
                <!-- Question Title -->
                <Label fx:id="questionTitleLabel" style="-fx-font-size: 20px;" styleClass="question-title" text="Question Title" wrapText="true" />
                
                <!-- Question Description -->
                <Label fx:id="questionDescriptionLabel" styleClass="question-description" text="Description" wrapText="true" />
                
                <!-- Question Meta -->
                <HBox alignment="CENTER_LEFT" spacing="20" style="-fx-padding: 10px 0 0 0;">
                    <HBox spacing="5">
                        <Label text="ðŸ‘¤" />
                        <Label fx:id="askerLabel" styleClass="question-meta" text="Anonymous" />
                    </HBox>
                    <HBox spacing="5">
                        <Label text="ðŸ“…" />
                        <Label fx:id="dateLabel" styleClass="question-meta" text="Date" />
                    </HBox>
                    <HBox spacing="5">
                        <Label text="ðŸ’¬" />
                        <Label fx:id="answerCountLabel" styleClass="question-meta" text="0 answers" />
                    </HBox>
                </HBox>
            </VBox>
            
            <!-- Answer Form Card (shown if user can answer) -->
            <VBox fx:id="answerFormContainer" spacing="15" styleClass="card">
                <Label styleClass="section-subtitle" text="âœ Your Answer" />
                <TextArea fx:id="answerTextArea" prefHeight="150" promptText="Write your answer here... Be detailed and helpful to earn coins and reputation!" styleClass="input-field" wrapText="true" />
                <HBox alignment="CENTER_RIGHT" spacing="10">
                    <Label fx:id="answerErrorLabel" styleClass="error-text" />
                    <Button onAction="#submitAnswer" style="-fx-padding: 12px 30px;" styleClass="success-button" text="Submit Answer" />
                </HBox>
            </VBox>
            
            <!-- Answers Section Header -->
            <HBox alignment="CENTER_LEFT" spacing="15">
                <Label styleClass="section-title" text="ðŸ’¬ Answers" />
                <Label fx:id="answersCountBadge" styleClass="badge" text="0" />
            </HBox>
            
            <!-- Answers List -->
            <VBox fx:id="answersContainer" spacing="15" />
            
            <!-- Empty State -->
            <VBox fx:id="noAnswersLabel" alignment="CENTER" managed="false" spacing="10" style="-fx-padding: 40px;" styleClass="card" visible="false">
                <Label style="-fx-font-size: 48px;" text="ðŸ’­" />
                <Label styleClass="empty-state-text" text="No answers yet" />
                <Label styleClass="empty-state-subtext" text="Be the first to answer this question!" />
            </VBox>
            
        </VBox>
    </VBox>
</ScrollPane>
